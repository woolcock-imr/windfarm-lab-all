<section>
    <div id=toolbar__ID>
        <a id=back__ID>Back</a><span class=tab__ID></span><span id=name__ID></span>
    </div>
    <div style='clear:left;'>
        <div class='nav__ID'>
            <span>Visit 1 - Day 1</span>
            <div>
                <ul>
                    <li data-name='v1d1a_visit_date'>Date of Visit</li>
                    <li data-name='v1d1a_exposure'>Exposure Check</li>
                    <li data-name='v1d1a_kdt'>KDT</li>
                    <li data-name='v1d1a_1back'>1-Back</li>
                    <li data-name='v1d1a_2back'>2-Back</li>
                    <li data-name='v1d1a_pvt'>PVT</li>
                    <li data-name='v1d1a_tol'>Tower of London</li>
                    <li data-name='v1d1a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v1d1a_psg_rec'>PSG file upload</li>
                    <li data-name='v1d1a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v1d1a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v1d1a_psg'>PSG300 data</li>
                </ul>
                <br>
            </div>
            <span>Visit 1 - Day 2 Morning</span>
            <div>
                <ul>
                    <li data-name='v1d2m_visit_date'>Date of Visit</li>
                    <li data-name='v1d2m_exposure'>Exposure Check</li>
                    <li data-name='v1d2m_kdt'>KDT</li>
                    <li data-name='v1d2m_1back'>1-Back</li>
                    <li data-name='v1d2m_2back'>2-Back</li>
                    <li data-name='v1d2m_pvt'>PVT</li>
                    <li data-name='v1d2m_tol'>Tower of London</li>
                    <li data-name='v1d1m_pwa_duration'>PWA duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 1 - Day 2 Afternoon</span>
            <div>
                <ul>
                    <li data-name='v1d2a_kdt'>KDT</li>
                    <li data-name='v1d2a_1back'>1-Back</li>
                    <li data-name='v1d2a_2back'>2-Back</li>
                    <li data-name='v1d2a_pvt'>PVT</li>
                    <li data-name='v1d2a_tol'>Tower of London</li>
                    <li data-name='v1d2a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v1d2a_psg_rec'>PSG file upload</li>
                    <li data-name='v1d2a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v1d2a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v1d2a_psg'>PSG300 data</li>
                    <li data-name='v1d2a_ucc_duration'>Urinary Catecholamine Collection duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 1 - Day 3 Morning</span>
            <div>
                <ul>
                    <li data-name='v1d3m_visit_date'>Date of Visit</li>
                    <li data-name='v1d3m_exposure'>Exposure Check</li>
                    <li data-name='v1d3m_kdt'>KDT</li>
                    <li data-name='v1d3m_1back'>1-Back</li>
                    <li data-name='v1d3m_2back'>2-Back</li>
                    <li data-name='v1d3m_pvt'>PVT</li>
                    <li data-name='v1d3m_tol'>Tower of London</li>
                    <li data-name='v1d3m_pwa_duration'>PWA duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 1 - Day 3 Afternoon</span>
            <div>
                <ul>
                    <li data-name='v1d3a_kdt'>KDT</li>
                    <li data-name='v1d3a_1back'>1-Back</li>
                    <li data-name='v1d3a_2back'>2-Back</li>
                    <li data-name='v1d3a_pvt'>PVT</li>
                    <li data-name='v1d3a_tol'>Tower of London</li>
                    <li data-name='v1d3a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v1d3a_psg_rec'>PSG file upload</li>
                    <li data-name='v1d3a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v1d3a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v1d3a_psg'>PSG300 data</li>
                    <li data-name='v1d3a_ucc_duration'>Urinary Catecholamine Collection duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 1 - Day 4</span>
            <div>
                <ul>
                    <li data-name='v1d4m_visit_date'>Date of Visit</li>
                    <li data-name='v1d4m_exposure'>Exposure Check</li>
                    <li data-name='v1d4m_kdt'>KDT</li>
                    <li data-name='v1d4m_1back'>1-Back</li>
                    <li data-name='v1d4m_2back'>2-Back</li>
                    <li data-name='v1d4m_pvt'>PVT</li>
                    <li data-name='v1d4m_tol'>Tower of London</li>
                    <li data-name='v1d4m_kdt_eeg'>KDT EEG</li>
                    <li data-name='v1d4m_insomnia'>Insomnia</li>
                    <li data-name='v1d4m_kessler'>Kessler-10</li>
                    <li data-name='v1d4m_staxi'>STAXI</li>
                    <li data-name='v1d4m_neuro-eval'>Neuro-otological evaluation</li>
                    <li data-name='v1d4m_endothelial'>Endothelial Function Test</li>
                </ul>
            </div>
        </div>
        <div class='nav__ID'>
            <span>Visit 2 - Day 1</span>
            <div>
                <ul>
                    <li data-name='v2d1a_visit_date'>Date of Visit</li>
                    <li data-name='v2d1a_exposure'>Exposure Check</li>
                    <li data-name='v2d1a_kdt'>KDT</li>
                    <li data-name='v2d1a_1back'>1-Back</li>
                    <li data-name='v2d1a_2back'>2-Back</li>
                    <li data-name='v2d1a_pvt'>PVT</li>
                    <li data-name='v2d1a_tol'>Tower of London</li>
                    <li data-name='v2d1a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v2d1a_psg_rec'>PSG file upload</li>
                    <li data-name='v2d1a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v2d1a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v2d1a_psg'>PSG300 data</li>
                </ul>
                <br>
            </div>
            <span>Visit 2 - Day 2 Morning</span>
            <div>
                <ul>
                    <li data-name='v2d2m_visit_date'>Date of Visit</li>
                    <li data-name='v2d2m_exposure'>Exposure Check</li>
                    <li data-name='v2d2m_kdt'>KDT</li>
                    <li data-name='v2d2m_1back'>1-Back</li>
                    <li data-name='v2d2m_2back'>2-Back</li>
                    <li data-name='v2d2m_pvt'>PVT</li>
                    <li data-name='v2d2m_tol'>Tower of London</li>
                    <li data-name='v2d1m_pwa_duration'>PWA duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 2 - Day 2 Afternoon</span>
            <div>
                <ul>
                    <li data-name='v2d2a_kdt'>KDT</li>
                    <li data-name='v2d2a_1back'>1-Back</li>
                    <li data-name='v2d2a_2back'>2-Back</li>
                    <li data-name='v2d2a_pvt'>PVT</li>
                    <li data-name='v2d2a_tol'>Tower of London</li>
                    <li data-name='v2d2a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v2d2a_psg_rec'>PSG file upload</li>
                    <li data-name='v2d2a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v2d2a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v2d2a_psg'>PSG300 data</li>
                    <li data-name='v2d2a_ucc_duration'>Urinary Catecholamine Collection duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 2 - Day 3 Morning</span>
            <div>
                <ul>
                    <li data-name='v2d3m_visit_date'>Date of Visit</li>
                    <li data-name='v2d3m_exposure'>Exposure Check</li>
                    <li data-name='v2d3m_kdt'>KDT</li>
                    <li data-name='v2d3m_1back'>1-Back</li>
                    <li data-name='v2d3m_2back'>2-Back</li>
                    <li data-name='v2d3m_pvt'>PVT</li>
                    <li data-name='v2d3m_tol'>Tower of London</li>
                    <li data-name='v2d3m_pwa_duration'>PWA duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 2 - Day 3 Afternoon</span>
            <div>
                <ul>
                    <li data-name='v2d3a_kdt'>KDT</li>
                    <li data-name='v2d3a_1back'>1-Back</li>
                    <li data-name='v2d3a_2back'>2-Back</li>
                    <li data-name='v2d3a_pvt'>PVT</li>
                    <li data-name='v2d3a_tol'>Tower of London</li>
                    <li data-name='v2d3a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v2d3a_psg_rec'>PSG file upload</li>
                    <li data-name='v2d3a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v2d3a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v2d3a_psg'>PSG300 data</li>
                    <li data-name='v2d3a_ucc_duration'>Urinary Catecholamine Collection duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 2 - Day 4</span>
            <div>
                <ul>
                    <li data-name='v2d4m_visit_date'>Date of Visit</li>
                    <li data-name='v2d4m_exposure'>Exposure Check</li>
                    <li data-name='v2d4m_kdt'>KDT</li>
                    <li data-name='v2d4m_1back'>1-Back</li>
                    <li data-name='v2d4m_2back'>2-Back</li>
                    <li data-name='v2d4m_pvt'>PVT</li>
                    <li data-name='v2d4m_tol'>Tower of London</li>
                    <li data-name='v2d4m_kdt_eeg'>KDT EEG</li>
                    <li data-name='v2d4m_insomnia'>Insomnia</li>
                    <li data-name='v2d4m_kessler'>Kessler-10</li>
                    <li data-name='v2d4m_staxi'>STAXI</li>
                    <li data-name='v2d4m_neuro-eval'>Neuro-otological evaluation</li>
                    <li data-name='v2d4m_endothelial'>Endothelial Function Test</li>
                </ul>
            </div>
        </div>
        <div class='nav__ID'>
            <span>Visit 3 - Day 1</span>
            <div>
                <ul>
                    <li data-name='v3d1a_visit_date'>Date of Visit</li>
                    <li data-name='v3d1a_exposure'>Exposure Check</li>
                    <li data-name='v3d1a_kdt'>KDT</li>
                    <li data-name='v3d1a_1back'>1-Back</li>
                    <li data-name='v3d1a_2back'>2-Back</li>
                    <li data-name='v3d1a_pvt'>PVT</li>
                    <li data-name='v3d1a_tol'>Tower of London</li>
                    <li data-name='v3d1a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v3d1a_psg_rec'>PSG file upload</li>
                    <li data-name='v3d1a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v3d1a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v3d1a_psg'>PSG300 data</li>
                </ul>
                <br>
            </div>
            <span>Visit 3 - Day 2 Morning</span>
            <div>
                <ul>
                    <li data-name='v3d2m_visit_date'>Date of Visit</li>
                    <li data-name='v3d2m_exposure'>Exposure Check</li>
                    <li data-name='v3d2m_kdt'>KDT</li>
                    <li data-name='v3d2m_1back'>1-Back</li>
                    <li data-name='v3d2m_2back'>2-Back</li>
                    <li data-name='v3d2m_pvt'>PVT</li>
                    <li data-name='v3d2m_tol'>Tower of London</li>
                    <li data-name='v3d1m_pwa_duration'>PWA duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 3 - Day 2 Afternoon</span>
            <div>
                <ul>
                    <li data-name='v3d2a_kdt'>KDT</li>
                    <li data-name='v3d2a_1back'>1-Back</li>
                    <li data-name='v3d2a_2back'>2-Back</li>
                    <li data-name='v3d2a_pvt'>PVT</li>
                    <li data-name='v3d2a_tol'>Tower of London</li>
                    <li data-name='v3d2a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v3d2a_psg_rec'>PSG file upload</li>
                    <li data-name='v3d2a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v3d2a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v3d2a_psg'>PSG300 data</li>
                    <li data-name='v3d2a_ucc_duration'>Urinary Catecholamine Collection duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 3 - Day 3 Morning</span>
            <div>
                <ul>
                    <li data-name='v3d3m_visit_date'>Date of Visit</li>
                    <li data-name='v3d3m_exposure'>Exposure Check</li>
                    <li data-name='v3d3m_kdt'>KDT</li>
                    <li data-name='v3d3m_1back'>1-Back</li>
                    <li data-name='v3d3m_2back'>2-Back</li>
                    <li data-name='v3d3m_pvt'>PVT</li>
                    <li data-name='v3d3m_tol'>Tower of London</li>
                    <li data-name='v3d3m_pwa_duration'>PWA duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 3 - Day 3 Afternoon</span>
            <div>
                <ul>
                    <li data-name='v3d3a_kdt'>KDT</li>
                    <li data-name='v3d3a_1back'>1-Back</li>
                    <li data-name='v3d3a_2back'>2-Back</li>
                    <li data-name='v3d3a_pvt'>PVT</li>
                    <li data-name='v3d3a_tol'>Tower of London</li>
                    <li data-name='v3d3a_kdt_eeg'>KDT EEG</li>
                    <li data-name='v3d3a_psg_rec'>PSG file upload</li>
                    <li data-name='v3d3a_psg_edf'>PSG EDF file upload</li>
                    <li data-name='v3d3a_psg_ss'>PSG Sleep Scoring file upload</li>
                    <li data-name='v3d3a_psg'>PSG300 data</li>
                    <li data-name='v3d3a_ucc_duration'>Urinary Catecholamine Collection duration</li>
                </ul>
                <br>
            </div>
            <span>Visit 3 - Day 4</span>
            <div>
                <ul>
                    <li data-name='v3d4m_visit_date'>Date of Visit</li>
                    <li data-name='v3d4m_exposure'>Exposure Check</li>
                    <li data-name='v3d4m_kdt'>KDT</li>
                    <li data-name='v3d4m_1back'>1-Back</li>
                    <li data-name='v3d4m_2back'>2-Back</li>
                    <li data-name='v3d4m_pvt'>PVT</li>
                    <li data-name='v3d4m_tol'>Tower of London</li>
                    <li data-name='v3d4m_kdt_eeg'>KDT EEG</li>
                    <li data-name='v3d4m_insomnia'>Insomnia</li>
                    <li data-name='v3d4m_kessler'>Kessler-10</li>
                    <li data-name='v3d4m_staxi'>STAXI</li>
                    <li data-name='v3d4m_neuro-eval'>Neuro-otological evaluation</li>
                    <li data-name='v3d4m_endothelial'>Endothelial Function Test</li>
                </ul>
            </div>
        </div>
    </div>
</section>
<script>
      function F__ID(){
            //---------------------------------------------
            var content_slot=$vm.root_layout_content_slot;
            var _op,_module=$vm.module_list[$vm.vm['__ID'].name];
            VmInclude:__COMPONENT__/navigation/navigation.js
            VmInclude:__COMPONENT__/style/ease-in-out.js
            //---------------------------------------------
            var A='woolcock_windform_in_lab_';
            //---------------------------------------------
            $('#D__ID').on('load',function(){
                $('#name__ID').text($vm.vm['__ID'].op.participant_name);
                _set_permissions();
                get_task_with_data(0,99);
                get_task_with_data(100,199);
                $('.nav__ID li').each(function(){
                    $(this).attr('data-s','1');
                })
            });
            //---------------------------------------------
            var get_task_with_data=function(n1,n2){
                var pids="";
                var participant_uid=$vm.vm['__ID'].op.participant_uid;
                $('.nav__ID li').each(function(){
                    var data_name=A+$(this).attr('data-name');
                    if($vm.module_list[data_name]!==undefined && $vm.module_list[data_name].table_id!==undefined){
                        if(pids!=='') pids+=",";
                        pids+=$vm.module_list[data_name].table_id;
                    }
                })
                var pids_array=pids.split(',');
                var sql="";
                //-------------------------
                if(n1<pids_array.length){
                    for(var i=n1;i<pids_array.length && i<n2;i++){
                        if(sql!=='') sql+=" union ";
                        sql+="select PID,Number=count(ID) from [TABLE-"+pids_array[i]+"] where puid="+participant_uid+" group by PID";
                    }
                    $VmAPI.request({data:{cmd:'query_records',sql:sql},callback:function(res){
                        $('.nav__ID li').each(function(){
                            $(this).css('color','#000000');
                            var data_name=A+$(this).attr('data-name');
                            if($vm.module_list[data_name]!==undefined && $vm.module_list[data_name].table_id!==undefined){
                                var pidA=$vm.module_list[data_name].table_id;
                                for(var i=0;i<res.records.length;i++){
                                    var pidB=res.records[i]['PID'];
                                    if(pidA==pidB){
                                        var num=res.records[i]['Number'];
                                        $(this).css('color','#5a99dc');
                                    }
                                }
                            }
                        })
                    }})
                }
                //-------------------------
            }
            //---------------------------------------------
            _special_click_process=function(li){
                var data_name=A+$(li).attr('data-name');
                $vm.load_module_by_name(data_name,$vm.root_layout_content_slot,{participant_uid:$vm.vm['__ID'].op.participant_uid,participant_name:$vm.vm['__ID'].op.participant_name})
            }
            //---------------------------------------------
      }
</script>
<style>
    VmInclude:__COMPONENT__/navigation/navigation.css
</style>
